<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marvel Checklist - Doomsday</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        .progress-bar-container {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 15px;
            margin-top: 15px;
        }

        .progress-text {
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.4);
            border-radius: 10px;
            height: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            height: 100%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .week-section {
            margin-bottom: 30px;
        }

        .week-title {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            font-size: 18px;
            font-weight: 700;
            color: #667eea;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .movie-card {
            background: white;
            border-radius: 15px;
            margin-bottom: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s, opacity 0.3s;
        }

        .movie-card:active {
            transform: scale(0.98);
        }

        .movie-card.watched {
            opacity: 0.6;
        }

        .movie-card.watched .movie-poster {
            filter: grayscale(50%);
        }

        .movie-content {
            display: flex;
            padding: 15px;
            gap: 15px;
        }

        .movie-poster {
            width: 80px;
            height: 120px;
            border-radius: 8px;
            object-fit: cover;
            background: linear-gradient(135deg, #667eea, #764ba2);
            flex-shrink: 0;
            transition: filter 0.3s;
        }

        .movie-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .movie-title {
            font-size: 16px;
            font-weight: 700;
            color: #333;
            line-height: 1.3;
        }

        .movie-year {
            font-size: 12px;
            color: #999;
            font-weight: 600;
        }

        .movie-overview {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: auto;
            padding-top: 10px;
        }

        .checkbox-container input[type="checkbox"] {
            width: 22px;
            height: 22px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .checkbox-label {
            font-size: 14px;
            font-weight: 600;
            color: #667eea;
            cursor: pointer;
            user-select: none;
        }

        .reset-button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.5);
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }

        .reset-button:active {
            transform: scale(0.95);
        }

        @media (max-width: 400px) {
            .movie-poster {
                width: 70px;
                height: 105px;
            }
            
            .movie-title {
                font-size: 14px;
            }
            
            .movie-overview {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé¨ Marvel Checklist</h1>
            <p class="subtitle">Countdown to Vingadores: Doomsday</p>
            <div class="progress-bar-container">
                <div class="progress-text" id="progressText">0 de 28 filmes assistidos</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
            </div>
            <button class="reset-button" onclick="resetProgress()">üîÑ Resetar Progresso</button>
        </header>

        <div id="content"></div>
    </div>

    <script>
        // ============================================
        // ARMAZENAMENTO
        // ============================================
        const WATCHED_STORAGE_KEY = 'marvel_watched_movies_v2';

        function getWatchedMovies() {
            const watched = localStorage.getItem(WATCHED_STORAGE_KEY);
            return watched ? JSON.parse(watched) : {};
        }

        function toggleWatched(movieId) {
            const watched = getWatchedMovies();
            watched[movieId] = !watched[movieId];
            localStorage.setItem(WATCHED_STORAGE_KEY, JSON.stringify(watched));
            updateProgress();
            updateCardVisual(movieId);
        }

        function resetProgress() {
            if (confirm('Tem certeza que deseja resetar todo o progresso?')) {
                localStorage.removeItem(WATCHED_STORAGE_KEY);
                location.reload();
            }
        }

        // ============================================
        // DADOS DOS FILMES (pr√©-carregados)
        // ============================================
        const marvelMovies = [
            {
                week: "Semana 1",
                movies: [
                    {
                        title: "Homem de Ferro",
                        year: 2008,
                        overview: "Tony Stark √© um industrial bilion√°rio que tamb√©m √© o super-her√≥i blindado Homem de Ferro. Quando √© for√ßado a criar uma arma de destrui√ß√£o em massa, Tony usa seu brilhantismo para criar uma armadura de alta tecnologia e escapar.",
                        poster: "https://image.tmdb.org/t/p/w200/78lPtwv72eTNqFW9COBYI0dWDJa.jpg"
                    },
                    {
                        title: "Capit√£o Am√©rica: O Primeiro Vingador",
                        year: 2011,
                        overview: "Steve Rogers, um jovem franzino, √© transformado em super-soldado Capit√£o Am√©rica para ajudar os EUA na Segunda Guerra Mundial. Ele deve impedir o vil√£o Red Skull de usar o Tesseract como arma de destrui√ß√£o.",
                        poster: "https://image.tmdb.org/t/p/w200/vSNxAJTlD0r02V9sPYpOjqDZXUK.jpg"
                    }
                ]
            },
            {
                week: "Semana 2",
                movies: [
                    {
                        title: "Thor",
                        year: 2011,
                        overview: "O poderoso Thor √© banido de Asgard e enviado √† Terra ap√≥s sua arrog√¢ncia reacender uma guerra. Desprovido de seus poderes, ele deve provar ser digno enquanto enfrenta for√ßas sombrias enviadas para destru√≠-lo.",
                        poster: "https://image.tmdb.org/t/p/w200/prSfAi1xGrhLQNxVSUFh61xQ4Qy.jpg"
                    },
                    {
                        title: "Os Vingadores",
                        year: 2012,
                        overview: "Nick Fury re√∫ne uma equipe de super-her√≥is para formar os Vingadores e impedir que Loki e seu ex√©rcito Chitauri escravizem a humanidade. Homem de Ferro, Thor, Hulk, Capit√£o Am√©rica, Vi√∫va Negra e Gavi√£o Arqueiro devem aprender a trabalhar juntos.",
                        poster: "https://image.tmdb.org/t/p/w200/RYMX2wcKCBAr24UyPD7xwmjaTn.jpg"
                    }
                ]
            },
            {
                week: "Semana 3",
                movies: [
                    {
                        title: "Capit√£o Am√©rica: O Soldado Invernal",
                        year: 2014,
                        overview: "Steve Rogers se adapta √† vida moderna enquanto luta ao lado de Vi√∫va Negra para expor uma conspira√ß√£o dentro da S.H.I.E.L.D., enfrentando um assassino conhecido como o Soldado Invernal.",
                        poster: "https://image.tmdb.org/t/p/w200/tVFRpFw3xTedgPGqxW0AOI8Qhh0.jpg"
                    },
                    {
                        title: "Vingadores: Era de Ultron",
                        year: 2015,
                        overview: "Tony Stark tenta iniciar um programa de manuten√ß√£o da paz, mas as coisas d√£o errado e os her√≥is mais poderosos da Terra devem parar o vil√£o Ultron de executar seu terr√≠vel plano.",
                        poster: "https://image.tmdb.org/t/p/w200/4ssDuvEDkSArWEdyBl2X5EHvYKU.jpg"
                    }
                ]
            },
            {
                week: "Semana 4",
                movies: [
                    {
                        title: "Capit√£o Am√©rica: Guerra Civil",
                        year: 2016,
                        overview: "Diferen√ßas pol√≠ticas colocam Capit√£o Am√©rica e Homem de Ferro em campos opostos. Steve defende a liberdade dos her√≥is, enquanto Tony apoia a supervis√£o governamental, dividindo os Vingadores.",
                        poster: "https://image.tmdb.org/t/p/w200/rAGiXaUfPu0sBqLjHevenimente.jpg"
                    },
                    {
                        title: "Doutor Estranho",
                        year: 2016,
                        overview: "Ap√≥s um acidente de carro que destr√≥i suas m√£os, o neurocirurgi√£o Dr. Stephen Strange embarca em uma jornada de cura que o transforma no feiticeiro conhecido como Doutor Estranho.",
                        poster: "https://image.tmdb.org/t/p/w200/gwi5kL7KXMQRIVRJd905ntftoS2.jpg"
                    }
                ]
            },
            {
                week: "Semana 5",
                movies: [
                    {
                        title: "Vingadores: Guerra Infinita",
                        year: 2018,
                        overview: "Os Vingadores e seus aliados devem estar dispostos a sacrificar tudo para derrotar o poderoso Thanos antes que ele destrua o universo com um estalar de dedos.",
                        poster: "https://image.tmdb.org/t/p/w200/7WsyChQLEftFiDOVTGkv3hFpyyt.jpg"
                    },
                    {
                        title: "Vingadores: Ultimato",
                        year: 2019,
                        overview: "Ap√≥s Thanos eliminar metade do universo, os Vingadores restantes se re√∫nem mais uma vez para reverter as a√ß√µes do Tit√£ Louco e restaurar o equil√≠brio do universo.",
                        poster: "https://image.tmdb.org/t/p/w200/or06FN3Dka5tukK1e9sl16pB3iy.jpg"
                    }
                ]
            },
            {
                week: "Semana 6 (S√©ries)",
                movies: [
                    {
                        title: "WandaVision",
                        year: 2021,
                        overview: "Wanda Maximoff e Vis√£o vivem uma vida suburbana id√≠lica at√© que come√ßam a suspeitar que nem tudo √© o que parece. A s√©rie mistura sitcoms cl√°ssicas com o Universo Cinematogr√°fico Marvel.",
                        poster: "https://image.tmdb.org/t/p/w200/glKDfE6btIRcVB5zrjspRIs4r52.jpg"
                    },
                    {
                        title: "Loki - Temporada 1",
                        year: 2021,
                        overview: "Ap√≥s roubar o Tesseract, Loki √© levado pela Autoridade de Vari√¢ncia Temporal (TVA), uma organiza√ß√£o burocr√°tica que existe fora do tempo e espa√ßo, for√ßado a corrigir a linha do tempo.",
                        poster: "https://image.tmdb.org/t/p/w200/kEl2t3OhXc3Zb9FBh1AuYzRTgZp.jpg"
                    },
                    {
                        title: "Loki - Temporada 2",
                        year: 2023,
                        overview: "Loki enfrenta suas maiores aventuras atrav√©s do tempo e espa√ßo, enquanto lida com as consequ√™ncias de suas a√ß√µes e o destino da pr√≥pria realidade est√° em jogo.",
                        poster: "https://image.tmdb.org/t/p/w200/7CqcXHJWT6K3RBcLLUxdYNUPQwM.jpg"
                    }
                ]
            },
            {
                week: "Semana 7",
                movies: [
                    {
                        title: "Homem-Aranha: Sem Volta Para Casa",
                        year: 2021,
                        overview: "Peter Parker pede ajuda ao Doutor Estranho para fazer o mundo esquecer que ele √© o Homem-Aranha. Quando o feiti√ßo d√° errado, vil√µes de outras realidades come√ßam a aparecer.",
                        poster: "https://image.tmdb.org/t/p/w200/fVzXp3NwovUlZIS2fMr6W0P7MXxN.jpg"
                    },
                    {
                        title: "Doutor Estranho no Multiverso da Loucura",
                        year: 2022,
                        overview: "O Doutor Estranho desencadeia um mal indescrit√≠vel ao usar um feiti√ßo proibido que abre o multiverso. Ele deve contar com aliados novos e misteriosos para enfrentar v√°rias vers√µes perigosas de si mesmo.",
                        poster: "https://image.tmdb.org/t/p/w200/mzzNT7qLTx7ZFDzJ8kQmT3mPUqd.jpg"
                    }
                ]
            },
            {
                week: "Semana 8",
                movies: [
                    {
                        title: "Homem-Formiga e a Vespa: Quantumania",
                        year: 2023,
                        overview: "Scott Lang e Hope van Dyne, junto com a fam√≠lia, exploram o Reino Qu√¢ntico, onde conhecem criaturas estranhas e embarcam em uma aventura que os levar√° al√©m dos limites do poss√≠vel.",
                        poster: "https://image.tmdb.org/t/p/w200/ngl2FKBlU4fhbdsrtdom9LVLBXw.jpg"
                    },
                    {
                        title: "Thunderbolts*",
                        year: 2025,
                        overview: "Um grupo de vil√µes e anti-her√≥is √© recrutado pelo governo para miss√µes perigosas. Com um elenco de personagens moralmente amb√≠guos, eles devem trabalhar juntos apesar de suas diferen√ßas.",
                        poster: "https://image.tmdb.org/t/p/w200/oTNMe7t7HQbALTle4g8ms0XsNNT.jpg"
                    }
                ]
            },
            {
                week: "Semana 9",
                movies: [
                    {
                        title: "Deadpool",
                        year: 2016,
                        overview: "Wade Wilson √© um ex-oper√°rio de For√ßas Especiais que, ap√≥s ser submetido a um experimento desonesto, desenvolve poderes de cura acelerados e adota o alter ego Deadpool.",
                        poster: "https://image.tmdb.org/t/p/w200/3E53WEZJqP6aM84D8CckXx4pIHw.jpg"
                    },
                    {
                        title: "Deadpool 2",
                        year: 2018,
                        overview: "Deadpool forma uma equipe de mutantes, a X-Force, para proteger um jovem mutante das garras do viajante do tempo Cable, enquanto mant√©m seu humor irreverente e violento.",
                        poster: "https://image.tmdb.org/t/p/w200/to0spRl1CMDvyUbOnbb4fTk3VAd.jpg"
                    }
                ]
            },
            {
                week: "Semana 10",
                movies: [
                    {
                        title: "Deadpool & Wolverine",
                        year: 2024,
                        overview: "Deadpool une for√ßas com Wolverine em uma aventura √©pica atrav√©s do multiverso. A dupla improv√°vel deve trabalhar junta para enfrentar uma amea√ßa que coloca todas as realidades em risco.",
                        poster: "https://image.tmdb.org/t/p/w200/8cdWjvZQUExUUTzyp4t6EDMubfO.jpg"
                    },
                    {
                        title: "X-Men: Dias de um Futuro Esquecido",
                        year: 2014,
                        overview: "Os X-Men enviam Wolverine ao passado para mudar um evento hist√≥rico que poderia impactar globalmente humanos e mutantes, unindo as gera√ß√µes cl√°ssica e moderna dos X-Men.",
                        poster: "https://image.tmdb.org/t/p/w200/qppzSTAFiMktmLJdnVvtGMhNC7q.jpg"
                    },
                    {
                        title: "Logan",
                        year: 2017,
                        overview: "Em um futuro pr√≥ximo onde os mutantes est√£o quase extintos, um Wolverine cansado e envelhecido cuida do Professor X doente. Quando uma jovem mutante precisa de ajuda, Logan deve sair de seu ex√≠lio.",
                        poster: "https://image.tmdb.org/t/p/w200/fnbjcRDYn6YviCcePDnGdyAkYsJ.jpg"
                    }
                ]
            },
            {
                week: "Semana Final",
                movies: [
                    {
                        title: "Quarteto Fant√°stico: Primeiros Passos",
                        year: 2025,
                        overview: "A primeira fam√≠lia de super-her√≥is da Marvel finalmente faz sua estreia no MCU. Reed Richards, Sue Storm, Johnny Storm e Ben Grimm embarcam em uma aventura c√≥smica que mudar√° suas vidas para sempre.",
                        poster: "https://image.tmdb.org/t/p/w200/6RCf9jzKxyjblYV4CseayK0riu5.jpg"
                    },
                    {
                        title: "Vingadores: Doomsday",
                        year: 2026,
                        overview: "O evento culminante que reunir√° her√≥is de todo o multiverso para enfrentar a maior amea√ßa que j√° existiu. Os Vingadores devem se unir em uma batalha √©pica pelo destino de todas as realidades.",
                        poster: "https://image.tmdb.org/t/p/w200/aEO4w9rVOPG4qXaFbYJqCjdRVBL.jpg"
                    }
                ]
            }
        ];

        // ============================================
        // RENDERIZA√á√ÉO
        // ============================================
        function createMovieCard(movie, index) {
            const watched = getWatchedMovies();
            const movieId = `movie_${index}`;
            const isWatched = watched[movieId] || false;

            return `
                <div class="movie-card ${isWatched ? 'watched' : ''}" id="card_${movieId}">
                    <div class="movie-content">
                        <img src="${movie.poster}" alt="${movie.title}" class="movie-poster" loading="lazy">
                        <div class="movie-info">
                            <div class="movie-title">${movie.title}</div>
                            <div class="movie-year">${movie.year}</div>
                            <div class="movie-overview">${movie.overview}</div>
                            <div class="checkbox-container">
                                <input 
                                    type="checkbox" 
                                    id="${movieId}" 
                                    ${isWatched ? 'checked' : ''}
                                    onchange="toggleWatched('${movieId}')"
                                >
                                <label for="${movieId}" class="checkbox-label">‚úì Assistido</label>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateCardVisual(movieId) {
            const card = document.getElementById('card_' + movieId);
            const checkbox = document.getElementById(movieId);
            if (checkbox.checked) {
                card.classList.add('watched');
            } else {
                card.classList.remove('watched');
            }
        }

        function updateProgress() {
            const watched = getWatchedMovies();
            const totalMovies = marvelMovies.reduce((sum, week) => sum + week.movies.length, 0);
            const watchedCount = Object.values(watched).filter(Boolean).length;
            const percentage = totalMovies > 0 ? (watchedCount / totalMovies) * 100 : 0;

            document.getElementById('progressText').textContent = `${watchedCount} de ${totalMovies} filmes assistidos`;
            document.getElementById('progressFill').style.width = `${percentage}%`;
        }

        function renderAllMovies() {
            let movieIndex = 0;
            let html = '';

            for (const weekData of marvelMovies) {
                html += `<div class="week-section">`;
                html += `<div class="week-title">${weekData.week}</div>`;

                for (const movie of weekData.movies) {
                    html += createMovieCard(movie, movieIndex);
                    movieIndex++;
                }

                html += `</div>`;
            }

            document.getElementById('content').innerHTML = html;
            updateProgress();
        }

        // ============================================
        // INICIALIZA√á√ÉO
        // ============================================
        window.addEventListener('DOMContentLoaded', function() {
            renderAllMovies();
        });
    </script>
</body>
</html>
